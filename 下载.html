<!-- 下载中心 - 高级美化版 -->
<section id="download" class="download-section relative overflow-hidden pt-20 pb-16 md:pt-32 md:pb-24">
    <!-- 背景装饰元素 -->
    <div class="absolute top-0 left-0 w-full h-full overflow-hidden z-0">
      <div class="absolute -top-40 -right-40 w-96 h-96 bg-primary-500/10 rounded-full filter blur-3xl"></div>
      <div class="absolute bottom-1/4 left-1/4 w-80 h-80 bg-secondary-500/5 rounded-full filter blur-3xl"></div>
    </div>
  
    <div class="container mx-auto px-4 md:px-8 relative z-10">
      <h2 class="text-[clamp(2rem,5vw,3.5rem)] font-bold text-gray-800 mb-4 text-center relative">
        下载中心
        <span class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-gradient-to-r from-primary-500 to-secondary-500"></span>
      </h2>
      <p class="text-center text-gray-600 max-w-2xl mx-auto mb-16 text-lg md:text-xl">
        选择适合您设备的Tronix客户端，享受流畅的操作体验与最新功能
      </p>
  
      <!-- 静态下载卡片 -->
      <div class="download-item group relative bg-white/80 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 overflow-hidden transition-all duration-700 hover:shadow-primary-500/30 hover:-translate-y-2 mb-12">
        <div class="absolute top-0 right-0 bg-primary-600 text-white text-xs font-bold px-4 py-1 rounded-bl-lg">
          推荐版本
        </div>
        
        <div class="p-6 md:p-8">
          <div class="flex flex-col md:flex-row md:items-center justify-between mb-6">
            <div>
              <h3 class="text-2xl md:text-3xl font-bold text-gray-800 mb-1">Windows 客户端</h3>
              <p class="text-primary-600 text-xl font-semibold">v3.2.1 稳定版</p>
            </div>
            <span class="bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded-full flex items-center">
              <i class="fas fa-check-circle mr-1"></i> 安全验证通过
            </span>
          </div>
          
          <a href="/downloads/Tronix_Setup_3.2.1.exe" 
             class="download-btn group relative overflow-hidden w-full md:w-auto bg-gradient-to-r from-primary-600 to-secondary-600 text-white font-medium py-4 px-8 rounded-xl flex items-center justify-center transition-all duration-500 shadow-lg hover:shadow-xl">
            <span class="relative z-10">
              <i class="fas fa-download mr-3"></i> 立即下载 (64位)
            </span>
            <span class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></span>
          </a>
          
          <div class="mt-5 flex items-center text-sm text-gray-600">
            <i class="fas fa-file-exe text-yellow-500 mr-3 text-lg"></i>
            <div>
              <p>文件大小: <span class="font-medium">82.3 MB</span></p>
              <p>SHA256: <span class="font-medium">9a8f7...d3b</span></p>
            </div>
          </div>
        </div>
      </div>
  
      <!-- 版本选择区域 -->
      <div class="download-selector bg-white/70 backdrop-blur-md rounded-2xl shadow-xl border border-white/20 p-6 md:p-8 transition-all duration-500 hover:shadow-lg">
        <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
          <i class="fas fa-box-open text-primary-600 mr-3"></i> 选择其他版本
        </h3>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="md:col-span-2">
            <select id="versionSelect" class="form-select w-full p-4 border border-gray-300/50 rounded-xl bg-white/50 focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500/70 transition-all outline-none">
              <option value="3.2.1">v3.2.1 稳定版 (推荐)</option>
              <option value="3.3.0-beta">v3.3.0 测试版 (最新功能)</option>
              <option value="3.1.5">v3.1.5 兼容版 (旧系统)</option>
            </select>
          </div>
          
          <div class="flex items-end">
            <button onclick="startDownload()" class="download-btn bg-white text-primary-600 font-semibold py-4 px-6 rounded-xl border border-primary-600/50 flex items-center justify-center transition-all duration-300 hover:bg-primary-600 hover:text-white hover:border-primary-600/80 hover:shadow-md">
              <i class="fas fa-download mr-2"></i>
              <span>下载选中版本</span>
            </button>
          </div>
        </div>
        
        <div class="mt-6 p-4 bg-blue-50 border border-blue-100 rounded-lg">
          <p class="text-sm text-blue-700 flex items-start">
            <i class="fas fa-info-circle text-blue-500 mt-1 mr-2"></i>
            <span>测试版包含未完全验证的新功能，可能存在兼容性问题，建议开发人员使用</span>
          </p>
        </div>
      </div>
    </div>
  </section>
  
  <script>
  // 动态下载控制与动画效果
  function startDownload() {
    const versionSelect = document.getElementById('versionSelect');
    const version = versionSelect.value;
    const filename = `Tronix_${version}.exe`;
    const btn = event.target || document.querySelector('.download-btn:not([disabled])');
    
    // 按钮加载状态动画
    if (btn) {
      btn.disabled = true;
      btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> 准备下载...';
      
      // 模拟下载进度动画
      const progress = document.createElement('div');
      progress.className = 'absolute bottom-0 left-0 w-0 h-0.5 bg-white transition-all duration-1500';
      btn.appendChild(progress);
      
      // 3秒后跳转下载（实际项目中可替换为真实下载逻辑）
      setTimeout(() => {
        progress.style.width = '100%';
        setTimeout(() => {
          window.location.href = `/downloads/${filename}`;
        }, 500);
      }, 1000);
    }
  }
  
  // 页面滚动动画
  document.addEventListener('DOMContentLoaded', () => {
    const downloadSection = document.getElementById('download');
    downloadSection.style.opacity = '0';
    downloadSection.style.transform = 'translateY(50px)';
    
    // 监听滚动显示动画
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          downloadSection.style.transition = 'opacity 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275), transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
          downloadSection.style.opacity = '1';
          downloadSection.style.transform = 'translateY(0)';
          observer.unobserve(downloadSection);
        }
      });
    }, { threshold: 0.1 });
    
    if (downloadSection) observer.observe(downloadSection);
    
    // 卡片悬停动效增强
    const cards = document.querySelectorAll('.download-item, .download-selector');
    cards.forEach(card => {
      card.addEventListener('mousemove', (e) => {
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left - rect.width / 2;
        const y = e.clientY - rect.top - rect.height / 2;
        
        // 计算偏移角度（限制在±10度）
        const rotateX = (y / rect.height) * 10;
        const rotateY = (x / rect.width) * 10;
        
        // 应用3D变换
        card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateZ(0) -translateY(2px)`;
      });
      
      card.addEventListener('mouseleave', () => {
        card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) translateZ(0)';
      });
    });
  });
  </script>
  
  <!-- 引入外部资源 -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <!-- 自定义CSS -->
  <style>
  :root {
    --primary-color: #4361ee;
    --secondary-color: #7209b7;
    --accent-color: #f72585;
  }
  
  /* 玻璃态背景优化 */
  .backdrop-blur-md {
    backdrop-filter: blur(12px);
  }
  
  /* 渐变动画 */
  .gradient-mask {
    position: relative;
    overflow: hidden;
  }
  
  .gradient-mask::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    animation: shine 3s infinite;
  }
  
  @keyframes shine {
    to {
      left: 100%;
    }
  }
  
  /* 3D悬停效果 */
  .download-item, .download-selector {
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transform-style: preserve-3d;
    backface-visibility: hidden;
  }
  
  /* 响应式调整 */
  @media (max-width: 768px) {
    .download-item, .download-selector {
      border-radius: 16px;
    }
    
    h2 {
      font-size: 2.5rem;
    }
  }
  </style>